# 룬 인터벌 테이블에 대한 수정 계획

### 현재 문제점:
1. 서브 하위룬이 순서 없이 섞여서 들어온다는 점을 늦게 발견하여 같은 룬 세팅이지만 서브 하위 룬의 데이터 순서만 달라 동일 데이터이어야 할 레코드가 두개로 분할되는 문제가 발생.
2. 페이지에 표시 시 카테고리가 핵심 룬, 보조 룬으로 구분되어야 하지만 그렇지 않음.
---
### 해결 방안:
* 테이블 구조 변경
    1. 우선 룬에 대한 인터벌 테이블을 핵심룬, 보조룬만이 데이터 컬럼으로 존재하는 테이블과 이하 세부 컬럼이 존재하는 테이블로 나눈다.   
        이 두 테이블을 각각 '핵심 테이블', '보조 테이블' 이라 명명한다.<br><br>
    2. 핵심 테이블의 경우 컬럼을 다음과 같이 만든다.   
        ```python
        ['version', 'update_time', 'champ_id', 'lane', 'runetype_core', 'core_mainrune', 'runetype_sub', 'pick_rate', 'game_count', 'win_rate']   
        ```
        그리고 version ~ runetype_sub 까지를 묶어 조합키로써 PK로 설정한다.   
        win_rate, game_count, pick_rate의 경우 위 PK를 FK로 사용하는 보조 테이블에서 해당하는 레코드 들의 win_rate, game_count, pick_rate의
        평균, 합, 평균으로 설정한다.<br><br>
    3. 보조 테이블의 경우 컬럼을 다음과 같이 만든다.   
        ```python
        ['version', 'update_time', 'champ_id', 'lane', 'runetype_core', 'core_mainrune', 'runetype_sub', # 여기까지 핵심 테이블의 PK
        'core_rune1', 'core_rune2', 'core_rune3', 'sub_rune1', 'sub_rune2', 'shard_offence', 'shard_flex', 'shard_defence', # 여기까지 보조 테이블의 PK
         'pick_rate', 'game_count', 'win_rate']
        ```
        그리고 핵심 테이블의 PK(version ~ runetype_sub)를 FK로 참조하고 version ~ shard_defence 까지를 묶어 조합키로써 PK로 설정한다.
---
* 계산 함수 변경
    1. sub_rune1과 sub_rune2의 순서가 바뀌는 것이 문제점 1의 원인이므로 해당 두 컬럼을 배열로 합쳐 정렬 후 다시 별개 컬럼으로 분리하는 작업을 거친다.
    2. ㅁ